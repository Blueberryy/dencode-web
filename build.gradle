buildscript {
  repositories {
    jcenter()
  }
  
  dependencies {
    classpath 'com.google.cloud.tools:appengine-gradle-plugin:+'
  }
}

repositories {
  jcenter()
}

apply plugin: 'java'
apply plugin: 'war'
apply plugin: 'com.google.cloud.tools.appengine'


dependencies {
  providedCompile 'javax.servlet:javax.servlet-api:3.1.0'
  providedCompile 'javax.servlet.jsp:javax.servlet.jsp-api:2.3.1'
  providedCompile 'jstl:jstl:1.2'
  
  compile 'org.mifmi:mifmi-commons4j:0.2.3'
  compile 'commons-codec:commons-codec:1.11'
  compile 'org.apache.commons:commons-lang3:3.8.1'
  compile 'com.fasterxml.jackson.core:jackson-databind:2.9.7'
  
  testCompile 'junit:junit:4.12'
}


appengineRun.dependsOn test
appengineDeploy.dependsOn test
appengineStage.dependsOn test

appengine {
  run {
    port = 8080
  }

  deploy {
    projectId = "GCLOUD_CONFIG"
    version = 'GCLOUD_CONFIG'
    promote = false
    stopPreviousVersion = false
  }
}


group = 'com.dencode'
version = '0.1.0-SNAPSHOT'

sourceCompatibility = 1.8
targetCompatibility = 1.8
